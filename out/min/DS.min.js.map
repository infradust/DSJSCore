{"version":3,"file":"DS.min.js","sources":["?","../../src/dscore.js","../../src/dsdata.js","../../src/oo.js","../../src/patterns.js"],"names":["exports","global","funcChain","f1","f2","res","undefined","apply","this","arguments","DS","nop","setBase","type","base","f","hasOwnProperty","prototype","Object","create","constructor","classRegistry","makeClass","data","cls","cnst","baseArgs","skipBase","cnst_","_name","name","_base","ns","namespace","_namespace","key","_key","t","load","_load","call","init","_init","proto","getClass","registerClass","unregisterClass","_isNamespace","console","log","window","c","p","d","accessor","source","pcount","a","args","Array","slice","unshift","length","get","set","inst","prop","property","$flags","$values","$changes","$ownProperties","$relations","$isNew","$setByKeys","self","$properties","$store","$getOrCreate","k","s","$accessors","pk","setAccessor","$removeProperty","removeAccessor","$addProperty","$unsetAccessors","$destroy","ps","existing","remove","$_propForKey","$prop","$undo","undo","$access","acc","shift","$setByKey","propKey","value","persistent","setPersistent","$hasChanges","description","_set","setupAccessor","_willChange","old","setMulti","values","modification","DSBasicProperty","col","oo","idCounter","nextId","condSet","DSObject","$update","idField","$setId","clientKey","$id","$clientKey","DSKeyedObject","cacheKey","x","cache","sharedCache","initCache","clearCache","r","$get","_cache","register","unregister"],"mappings":"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"}